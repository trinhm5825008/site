<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiener Process Simulation - Expectation and Variance Calculator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <svg class="logo" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 25 Q 15 10, 25 25 T 45 25" stroke="#3498db" stroke-width="2" fill="none"/>
                    <circle cx="25" cy="25" r="2" fill="#2980b9"/>
                </svg>
                <h1>Wiener Process Simulation</h1>
                <p class="subtitle">Expectation and Variance Calculator</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="input-section card">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                    </svg>
                    Tham s·ªë ƒë·∫ßu v√†o
                </h2>
                
                <div class="input-grid">
                    <div class="input-group">
                        <label for="time-horizon">
                            Th·ªùi gian T (Time Horizon)
                            <span class="tooltip">?
                                <span class="tooltip-text">Kho·∫£ng th·ªùi gian m√¥ ph·ªèng (gi√¢y)</span>
                            </span>
                        </label>
                        <input type="number" id="time-horizon" min="0.1" max="100" step="0.1" value="10">
                        <span class="unit">gi√¢y</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="num-steps">
                            S·ªë b∆∞·ªõc N (Number of Steps)
                            <span class="tooltip">?
                                <span class="tooltip-text">S·ªë ƒëi·ªÉm chia trong qu√° tr√¨nh m√¥ ph·ªèng</span>
                            </span>
                        </label>
                        <input type="number" id="num-steps" min="10" max="10000" step="10" value="1000">
                        <span class="unit">b∆∞·ªõc</span>
                    </div>
                </div>

                <div class="button-group">
                    <button id="simulate-btn" class="btn btn-primary">
                        <svg class="btn-icon" viewBox="0 0 24 24">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                        M√¥ ph·ªèng
                    </button>
                    <button id="reset-btn" class="btn btn-secondary">
                        <svg class="btn-icon" viewBox="0 0 24 24">
                            <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
                        </svg>
                        ƒê·∫∑t l·∫°i
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section card" id="results" style="display: none;">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2.5 2.1h-15V5h15v14.1zm0-16.1h-15c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
                    </svg>
                    K·∫øt qu·∫£ t√≠nh to√°n
                </h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">K·ª≥ v·ªçng l√Ω thuy·∫øt</div>
                        <div class="stat-value">E[W(t)] = <span id="expectation">0</span></div>
                        <div class="stat-formula">E[W(t)] = 0 (‚àÄt ‚â• 0)</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Ph∆∞∆°ng sai l√Ω thuy·∫øt</div>
                        <div class="stat-value">Var[W(t)] = <span id="variance">-</span></div>
                        <div class="stat-formula">Var[W(t)] = t</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Gi√° tr·ªã m√¥ ph·ªèng t·∫°i T</div>
                        <div class="stat-value">W(T) = <span id="final-value">-</span></div>
                        <div class="stat-formula">Sample path value</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">ƒê·ªô l·ªách chu·∫©n</div>
                        <div class="stat-value">œÉ = <span id="std-dev">-</span></div>
                        <div class="stat-formula">œÉ = ‚àöt</div>
                    </div>
                </div>

                <!-- Multiple Paths Statistics -->
                <div class="multi-path-stats" id="multi-stats" style="display: none;">
                    <h3>Th·ªëng k√™ ƒëa ƒë∆∞·ªùng d·∫´n (Multiple Paths)</h3>
                    <div class="stats-grid">
                        <div class="stat-card-small">
                            <div class="stat-label">Trung b√¨nh m·∫´u</div>
                            <div class="stat-value-small"><span id="sample-mean">-</span></div>
                        </div>
                        <div class="stat-card-small">
                            <div class="stat-label">Ph∆∞∆°ng sai m·∫´u</div>
                            <div class="stat-value-small"><span id="sample-variance">-</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Chart Section -->
            <section class="chart-section card" id="chart-section" style="display: none;">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/>
                    </svg>
                    ƒê·ªì th·ªã Wiener Process
                </h2>
                
                <div class="chart-controls">
                    <button id="single-path-btn" class="chart-btn active">ƒê∆∞·ªùng ƒë∆°n</button>
                    <button id="multi-path-btn" class="chart-btn">ƒêa ƒë∆∞·ªùng</button>
                    <button id="distribution-btn" class="chart-btn">Ph√¢n ph·ªëi</button>
                </div>
                
                <div class="chart-container">
                    <canvas id="wiener-chart"></canvas>
                </div>
                
                <div class="chart-info">
                    <p>üìä ƒê·ªì th·ªã bi·ªÉu di·ªÖn qu√° tr√¨nh Wiener W(t) trong kho·∫£ng [0, T]</p>
                    <p>üìà Chuy·ªÉn ƒë·ªông Brown chu·∫©n v·ªõi W(0) = 0</p>
                </div>
            </section>

            <!-- Theory Section -->
            <section class="theory-section card">
                <h2>
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    L√Ω thuy·∫øt Wiener Process
                </h2>
                
                <div class="theory-content">
                    <div class="theory-item">
                        <h3>ƒê·ªãnh nghƒ©a</h3>
                        <p>Wiener process (Brownian motion) W(t) l√† qu√° tr√¨nh ng·∫´u nhi√™n th·ªèa m√£n:</p>
                        <ul>
                            <li>W(0) = 0</li>
                            <li>W(t) c√≥ gia s·ªë ƒë·ªôc l·∫≠p v√† d·ª´ng</li>
                            <li>W(t) - W(s) ~ N(0, t-s) v·ªõi t > s ‚â• 0</li>
                            <li>Qu·ªπ ƒë·∫°o li√™n t·ª•c</li>
                        </ul>
                    </div>
                    
                    <div class="theory-item">
                        <h3>T√≠nh ch·∫•t th·ªëng k√™</h3>
                        <div class="formula-box">
                            <p>E[W(t)] = 0</p>
                            <p>Var[W(t)] = t</p>
                            <p>Cov[W(s), W(t)] = min(s, t)</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>¬© 2024 Wiener Process Simulator | Stochastic Calculus Tool</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
